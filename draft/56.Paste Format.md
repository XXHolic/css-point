# 56.Paste Format

## <a name="index"></a> 目录
- [引子](#start)
- [index 1](#index1)
  - [index 12](#index12)
- [参考资料](#reference)


## <a name="start"></a> 引子
复制的文本粘贴放入输入框中，保存后，在其它地方显示时，需要保持其原有的换行格式。

## 输入框为 textarea 标签
textarea 元素支持多行纯文本编辑。由于历史原因，元素的值有三种不同的形式。row value 是其原始设置的值，它没有被标准化。API value 是 value 接口定义中使用的值。它是标准化的，因此换行符使用 `“LF”（U+000A)` 字符。还有一个表单提交的 value。它是标准化的，因此换行符使用 `U+000D CARRIAGE RETURN "CRLF" (U+000A)`  字符对。

该元素的 API value 是元素的 row value 按照下面的转换而来：
1. 将 row value 的所有 U+000D CARRIAGE RETURN "CRLF" (U+000A) 字符对，替换为一个 "LF" (U+000A) 字符。
2. 将 row value 的剩下的 U+000D CARRIAGE RETURN 字符，替换为一个"LF" (U+000A) 字符。

元素的 value

```js
  str = str.replace(/\r\n/g, '<br />');
  str = str.replace(/\n/g, '<br />');
```


<div align="right"><a href="#index">Back to top :arrow_up:</a></div>


## <a name="reference"></a> 参考资料
- [example][url-base]
- https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Content_Editable
- https://developer.mozilla.org/zh-CN/docs/Web/Events/paste
- https://www.w3.org/TR/html50/forms.html#the-textarea-element
- https://www.cnblogs.com/minigrasshopper/p/8086059.html


[url-base]:https://xxholic.github.io/segment