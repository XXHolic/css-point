# 83.Node 连接 MySql.97
## <a name="index"></a> 目录
- [引子](#start)
- [index 1](#index1)
  - [index 12](#index12)
- [参考资料](#reference)


## <a name="start"></a> 引子
尝试使用 Node 连接数据库。

## 安装
系统：macOS Catalina 10.15.7

### MySql
使用工具 Homebrew
```
# 搜索看下有没有
brew search mysql
# 查看下相关信息，是不是想要的
brew info mysql
# 安装
brew install mysql
```
![84-mysql-install][url-local-1]

这个时候要注意安装之后的提示信息：
- 版本 8.0.22 。
- 安装的 MySql ，没有设置密码，要想更安全，运行命令：mysql_secure_installation 。
- MySql 默认配置只允许从本地连接。
- 想要连接，运行命令： mysql -uroot 。
- 启动命令： brew services start mysql ，如果不想要后台运行服务，运行命令： mysql.server start 。

执行 `mysql_secure_installation` 会提示各种相关的设置，比如密码，是否禁止远程 root 登录，移除测试表等等。

执行 mysql -uroot 时，出现下面的提示：
> ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)

按照官网上输入的指令 `mysql -u root -p` ，提示输入密码，输入 123456 就进入了，很奇怪，网上看都是要重置密码。

其它命令
- 查看运行状态： mysql.server status;
- 关闭：mysql.server stop

### MySQL Workbench
官方提供了可视化工具，可以在[这里][url-website-2]下载，本次使用的版本是 mysql-workbench-community-8.0.22-macos-x86_64 。

使用工具连接本都数据库时，需要填写端口，用命令的方式登录后查询端口：
```
mysql> show global variables like 'port';
```
该工具默认显示的端口是 3306 。第一次的连接的时候，会弹窗提示输入密码。


### Node
安装 Node 参考[这里][url-artilcle-1] 。

## 连接数据库
在 [npm][url-website-1] 上可以搜索连接 mysql 的库，这里以 [mysql][url-github-1] 作为示例。

## 错误




<div align="right"><a href="#index">Back to top :arrow_up:</a></div>


## <a name="reference"></a> 参考资料
- [example][url-base]

[url-artilcle-1]:https://www.runoob.com/nodejs/nodejs-install-setup.html
[url-website-1]:https://www.npmjs.com
[url-website-2]:https://dev.mysql.com/downloads/workbench/
[url-github-1]:https://github.com/mysqljs/mysql

[url-local-1]:../images/84/mysql-install.png
